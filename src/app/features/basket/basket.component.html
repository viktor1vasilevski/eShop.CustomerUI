<div class="container-fluid py-5 px-4 px-md-5">
  <div class="row g-4">
    <!-- Basket Items (Left Column) -->
    <div class="col-lg-8">
      <div class="card shadow-lg">
        <div
          class="card-header bg-white border-bottom text-dark fw-semibold d-flex justify-content-between align-items-center"
        >
          <h4 class="mb-0">Your Basket</h4>
          <button
            class="btn btn-outline-secondary btn-sm"
            (click)="clearBasket()"
            *ngIf="basketItems.length"
          >
            <i class="bi bi-trash"></i> Remove All
          </button>
        </div>
        <div class="card-body p-0">
          <table class="table table-hover table-striped align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th>Product</th>
                <th class="text-center">Quantity</th>
                <th class="text-end">Unit Price</th>
                <th class="text-end">Total</th>
                <th class="text-end">Remove</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of basketItems">
                <td>
                  <div class="d-flex align-items-center">
                    <img
                      [src]="item.image"
                      alt="{{ item.name }}"
                      class="me-3 rounded"
                      style="width: 60px; height: 60px; object-fit: cover"
                    />
                    <span>{{ item.name }}</span>
                  </div>
                </td>
                <td class="text-center">{{ item.quantity }}</td>
                <td class="text-end">${{ item.price }}</td>
                <td class="text-end">
                  ${{ item.price * item.quantity | number : "1.2-2" }}
                </td>
                <td class="text-end">
                  <button
                    class="btn btn-sm btn-outline-danger"
                    (click)="removeItem(item)"
                  >
                    <i class="bi bi-x-lg"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Checkout Summary (Right Column) -->
    <div class="col-lg-4">
      <div class="card shadow-sm border">
        <div class="card-body">
          <h5 class="card-title">Summary</h5>
          <hr />
          <div class="d-flex justify-content-between mb-2">
            <span>Subtotal:</span>
            <strong>${{ totalPrice | number : "1.2-2" }}</strong>
          </div>
          <div class="d-flex justify-content-between mb-3 text-muted">
            <span>Shipping:</span>
            <span>Calculated at checkout</span>
          </div>
          <hr />
          <div class="d-flex justify-content-between fs-5 mb-4">
            <span>Total:</span>
            <strong class="text-primary"
              >${{ totalPrice | number : "1.2-2" }}</strong
            >
          </div>
          <button
            class="btn btn-success w-100"
            [disabled]="!basketItems.length"
            (click)="onCheckout()"
          >
            <i class="bi bi-lock-fill me-2"></i> Proceed to Checkout
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
